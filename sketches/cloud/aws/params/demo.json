[
    {
        // EC2, ensure 1 cfworkers
        "Cloud::Services::AWS":
        {
            count: 1,
            ami: "ami-a29943cb",
            class: "cfworker",
            install_cfengine: true,
	        hub: "$(sys.ipv4)",
            options:
            {
                // security_group: "cf",
                security_group: "default",
                netrc: "/home/tzz/.netrc",
                ssh_pub_key: "/root/.ssh/id_rsa.pub"
            },
        }
    },
    {
        // EC2, ensure 0 cfworkers
        "Cloud::Services::AWS":
        {
            count: 0,
            ami: "ignored",
            class: "cfworker",
            install_cfengine: "ignored",
	        hub: "ignored",
            options:
            {
                security_group: "ignored",
                netrc: "/home/tzz/.netrc",
                ssh_pub_key: "ignored"
            },
        }
    },
    {
        // S3, sync bucket from directory
        "Cloud::Services::AWS":
        {
            directory: "/tmp/uploadthis",
            s3_bucket: "cfsketch_cloud_uploads",
            options:
            {
                acl: "public-read",
                netrc: "/home/tzz/.netrc",
            },
        }
    },
    {
        // S3, clear bucket
        "Cloud::Services::AWS":
        {
            s3_clear_bucket: "cfsketch_cloud_uploads",
            options:
            {
                acl: "ignored",
                netrc: "/home/tzz/.netrc",
            },
        }
    },
]


// {
//     "Cloud::Services":
//     {
//         sdb:
//         {
//             aws_access_key: "",
//             aws_secret_key: ""
//         },

//         class: "cfclouddomain",
//         stype: "sdb",
//         count: "/var/cfengine/masterfiles/sample.sdb.lines.json",
//         state: { bycontext: { sync: "start", clear: "stop" } },
// 	activated: "am_policy_hub"
//     }
// }
